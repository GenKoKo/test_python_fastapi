# ğŸ“ é …ç›®çµæ§‹èªªæ˜

## ğŸ¯ æ•´ç†å¾Œçš„é …ç›®çµæ§‹

```
fastapi_project/
â”œâ”€â”€ ğŸ“ src/                          # æºä»£ç¢¼ç›®éŒ„
â”‚   â”œâ”€â”€ core/                        # æ ¸å¿ƒé…ç½®å’Œå·¥å…·
â”‚   â”‚   â”œâ”€â”€ config.py               # é…ç½®ç®¡ç†
â”‚   â”‚   â””â”€â”€ logger.py               # æ—¥èªŒç³»çµ±
â”‚   â””â”€â”€ app/                        # ä¸»æ‡‰ç”¨
â”‚       â”œâ”€â”€ main.py                 # FastAPI æ‡‰ç”¨å…¥å£
â”‚       â”œâ”€â”€ models/                 # æ•¸æ“šæ¨¡å‹
â”‚       â”œâ”€â”€ routers/                # API è·¯ç”±
â”‚       â”œâ”€â”€ services/               # æ¥­å‹™é‚è¼¯å±¤
â”‚       â”œâ”€â”€ database/               # æ•¸æ“šåº«å±¤
â”‚       â””â”€â”€ utils/                  # å·¥å…·å‡½æ•¸
â”‚
â”œâ”€â”€ ğŸ“ tests/                        # æ¸¬è©¦æ–‡ä»¶
â”‚   â”œâ”€â”€ conftest.py                 # pytest é…ç½®
â”‚   â”œâ”€â”€ test_items.py               # å•†å“æ¸¬è©¦
â”‚   â””â”€â”€ test_users.py               # ç”¨æˆ¶æ¸¬è©¦
â”‚
â”œâ”€â”€ ğŸ“ tools/                        # é–‹ç™¼å·¥å…·å’Œæ¸¬è©¦è…³æœ¬
â”‚   â”œâ”€â”€ test_config.py              # é…ç½®æ¸¬è©¦
â”‚   â”œâ”€â”€ test_api.py                 # API æ¸¬è©¦
â”‚   â””â”€â”€ test_*.py                   # å…¶ä»–æ¸¬è©¦å·¥å…·
â”‚
â”œâ”€â”€ ğŸ“ docs/                         # æ–‡æª”ç›®éŒ„
â”‚   â”œâ”€â”€ PROJECT_STRUCTURE.md        # é …ç›®çµæ§‹èªªæ˜
â”‚   â””â”€â”€ MIGRATION.md                # é·ç§»æŒ‡å—
â”‚
â”œâ”€â”€ ğŸ“ config/                       # é…ç½®æ–‡ä»¶ç›®éŒ„ â­ æ–°å¢
â”‚   â”œâ”€â”€ docker/                     # Docker ç›¸é—œé…ç½®
â”‚   â”‚   â”œâ”€â”€ Dockerfile              # Docker é¡åƒå®šç¾©
â”‚   â”‚   â”œâ”€â”€ docker-compose.yml      # ä¸»è¦ Docker Compose é…ç½®
â”‚   â”‚   â”œâ”€â”€ docker-compose.override.yml # é–‹ç™¼ç’°å¢ƒè¦†è“‹
â”‚   â”‚   â”œâ”€â”€ docker-compose.prod.yml # ç”Ÿç”¢ç’°å¢ƒé…ç½®
â”‚   â”‚   â””â”€â”€ .dockerignore           # Docker å¿½ç•¥æ–‡ä»¶
â”‚   â”œâ”€â”€ env/                        # ç’°å¢ƒè®Šæ•¸é…ç½®
â”‚   â”‚   â”œâ”€â”€ .env.example            # ç’°å¢ƒè®Šæ•¸ç¯„æœ¬
â”‚   â”‚   â””â”€â”€ .env.docker             # Docker ç’°å¢ƒè®Šæ•¸
â”‚   â”œâ”€â”€ .devcontainer/              # GitHub Codespaces é…ç½®
â”‚   â”‚   â”œâ”€â”€ devcontainer.json       # ä¸»è¦é…ç½®
â”‚   â”‚   â”œâ”€â”€ setup.sh                # è¨­ç½®è…³æœ¬
â”‚   â”‚   â”œâ”€â”€ start.sh                # å•Ÿå‹•è…³æœ¬
â”‚   â”‚   â”œâ”€â”€ api-tests.http          # REST Client æ¸¬è©¦
â”‚   â”‚   â””â”€â”€ README.md               # Codespaces ä½¿ç”¨èªªæ˜
â”‚   â””â”€â”€ github/                     # GitHub ç›¸é—œé…ç½®
â”‚       â”œâ”€â”€ workflows/              # GitHub Actions
â”‚       â”‚   â””â”€â”€ ci.yml              # CI/CD æµç¨‹
â”‚       â””â”€â”€ codespaces/             # Codespaces é è¨­é…ç½®
â”‚           â””â”€â”€ devcontainer.json   # é è¨­é…ç½®
â”‚
â”œâ”€â”€ ğŸ“ deploy/                       # éƒ¨ç½²ç›¸é—œæ–‡ä»¶ â­ æ–°å¢
â”‚   â””â”€â”€ scripts/                    # éƒ¨ç½²è…³æœ¬
â”‚       â”œâ”€â”€ setup_venv.sh           # ç’°å¢ƒè¨­ç½®
â”‚       â”œâ”€â”€ run_app.sh              # æ‡‰ç”¨é‹è¡Œ
â”‚       â””â”€â”€ test_in_venv.sh         # æ¸¬è©¦è…³æœ¬
â”‚
â”œâ”€â”€ ğŸ“„ run.py                        # æ‡‰ç”¨å•Ÿå‹•å™¨
â”œâ”€â”€ ğŸ“„ requirements.txt              # ä¾è³´ç®¡ç†
â”œâ”€â”€ ğŸ“„ justfile                     # Just å‘½ä»¤å®šç¾©
â”œâ”€â”€ ğŸ“„ README.md                    # é …ç›®æ–‡æª”
â”œâ”€â”€ ğŸ“„ .gitignore                   # Git å¿½ç•¥æ–‡ä»¶
â”‚
â””â”€â”€ ğŸ”— ç¬¦è™Ÿé€£çµ (ä¿æŒå…¼å®¹æ€§)
    â”œâ”€â”€ docker-compose.yml â†’ config/docker/docker-compose.yml
    â”œâ”€â”€ Dockerfile â†’ config/docker/Dockerfile
    â”œâ”€â”€ .dockerignore â†’ config/docker/.dockerignore
    â”œâ”€â”€ .devcontainer â†’ config/.devcontainer
    â”œâ”€â”€ .github â†’ config/github/.github
    â””â”€â”€ .env.example â†’ config/env/.env.example
```

## ğŸ¯ æ•´ç†çš„ç›®æ¨™

### âœ… **å·²å®Œæˆçš„æ•´ç†**

1. **é…ç½®æ–‡ä»¶é›†ä¸­åŒ–**
   - æ‰€æœ‰ Docker ç›¸é—œæ–‡ä»¶ç§»åˆ° `config/docker/`
   - ç’°å¢ƒè®Šæ•¸æ–‡ä»¶ç§»åˆ° `config/env/`
   - GitHub é…ç½®ç§»åˆ° `config/github/`
   - Codespaces é…ç½®ç§»åˆ° `config/.devcontainer/`

2. **éƒ¨ç½²æ–‡ä»¶æ•´ç†**
   - éƒ¨ç½²è…³æœ¬ç§»åˆ° `deploy/scripts/`
   - ä¿æŒé‚è¼¯åˆ†çµ„

3. **ç¬¦è™Ÿé€£çµä¿æŒå…¼å®¹æ€§**
   - é‡è¦æ–‡ä»¶ä¿æŒåŸä½ç½®çš„ç¬¦è™Ÿé€£çµ
   - ç¢ºä¿ç¾æœ‰å·¥å…·å’Œ CI/CD æ­£å¸¸å·¥ä½œ

4. **æ›´æ–°ç›¸é—œå¼•ç”¨**
   - æ›´æ–° `justfile` ä¸­çš„è·¯å¾‘å¼•ç”¨
   - æ›´æ–° `devcontainer.json` é…ç½®

## ğŸš€ **å„ªå‹¢**

### **1. æ›´æ¸…æ™°çš„çµæ§‹** ğŸ“‹
- é…ç½®æ–‡ä»¶æŒ‰é¡å‹åˆ†çµ„
- æ¸›å°‘æ ¹ç›®éŒ„çš„æ–‡ä»¶æ•¸é‡
- æ›´å®¹æ˜“æ‰¾åˆ°ç›¸é—œæ–‡ä»¶

### **2. æ›´å¥½çš„ç¶­è­·æ€§** ğŸ”§
- ç›¸é—œæ–‡ä»¶é›†ä¸­ç®¡ç†
- æ¸›å°‘é…ç½®æ–‡ä»¶æ•£äº‚
- æ›´å®¹æ˜“é€²è¡Œæ‰¹é‡ä¿®æ”¹

### **3. ä¿æŒå…¼å®¹æ€§** âœ…
- ç¬¦è™Ÿé€£çµç¢ºä¿ç¾æœ‰å·¥å…·æ­£å¸¸å·¥ä½œ
- GitHub Actions å’Œ Docker å‘½ä»¤ç„¡éœ€ä¿®æ”¹
- åœ˜éšŠæˆå“¡ç„¡éœ€æ”¹è®Šå·¥ä½œç¿’æ…£

### **4. æ“´å±•æ€§** ğŸš€
- æ–°çš„é…ç½®é¡å‹å¯ä»¥è¼•é¬†æ·»åŠ 
- ç’°å¢ƒç‰¹å®šé…ç½®æœ‰æ˜ç¢ºçš„ä½ç½®
- æ›´å®¹æ˜“æ·»åŠ æ–°çš„éƒ¨ç½²ç’°å¢ƒ

## ğŸ“ **ä½¿ç”¨èªªæ˜**

### **é–‹ç™¼è€…ä½¿ç”¨**
- æ‰€æœ‰ `just` å‘½ä»¤ä¿æŒä¸è®Š
- Docker å‘½ä»¤è‡ªå‹•ä½¿ç”¨æ–°çš„è·¯å¾‘
- Codespaces é…ç½®è‡ªå‹•ç”Ÿæ•ˆ

### **é…ç½®ä¿®æ”¹**
- Docker é…ç½®: ç·¨è¼¯ `config/docker/` ä¸‹çš„æ–‡ä»¶
- ç’°å¢ƒè®Šæ•¸: ç·¨è¼¯ `config/env/` ä¸‹çš„æ–‡ä»¶
- CI/CD é…ç½®: ç·¨è¼¯ `config/github/workflows/` ä¸‹çš„æ–‡ä»¶

### **æ–°ç’°å¢ƒæ·»åŠ **
- æ–°çš„ Docker ç’°å¢ƒ: åœ¨ `config/docker/` æ·»åŠ æ–°çš„ compose æ–‡ä»¶
- æ–°çš„ç’°å¢ƒè®Šæ•¸: åœ¨ `config/env/` æ·»åŠ æ–°çš„ .env æ–‡ä»¶
- æ–°çš„éƒ¨ç½²è…³æœ¬: åœ¨ `deploy/scripts/` æ·»åŠ æ–°çš„è…³æœ¬

## ğŸ” **æ–‡ä»¶å°æ‡‰é—œä¿‚**

| åŸä½ç½® | æ–°ä½ç½® | ç¬¦è™Ÿé€£çµ |
|--------|--------|----------|
| `docker-compose.yml` | `config/docker/docker-compose.yml` | âœ… |
| `Dockerfile` | `config/docker/Dockerfile` | âœ… |
| `.dockerignore` | `config/docker/.dockerignore` | âœ… |
| `.devcontainer/` | `config/.devcontainer/` | âœ… |
| `.github/` | `config/github/.github/` | âœ… |
| `.env.example` | `config/env/.env.example` | âœ… |
| `scripts/` | `deploy/scripts/` | âŒ |

## ğŸ’¡ **æœ€ä½³å¯¦è¸**

1. **é…ç½®ä¿®æ”¹**: ç›´æ¥ç·¨è¼¯ `config/` ç›®éŒ„ä¸‹çš„æ–‡ä»¶
2. **æ–°å¢é…ç½®**: åœ¨å°æ‡‰çš„ `config/` å­ç›®éŒ„æ·»åŠ 
3. **éƒ¨ç½²è…³æœ¬**: åœ¨ `deploy/scripts/` ç›®éŒ„ç®¡ç†
4. **æ–‡æª”æ›´æ–°**: åŠæ™‚æ›´æ–° `docs/` ç›®éŒ„ä¸‹çš„æ–‡æª”

é€™æ¨£çš„çµæ§‹è®“é …ç›®æ›´åŠ å°ˆæ¥­å’Œæ˜“æ–¼ç¶­è­·ï¼ğŸŠ